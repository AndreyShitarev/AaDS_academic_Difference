# Отчёт по лабораторной работы №4 (Вариант 24, Задания 2, 4, 5, 12)

## Задание 2

### Текст задания:

```
Реализуйте работу очереди. Для каждой операции изъятия элемента выведите
ее результат. На вход программе подаются строки, содержащие команды. Каждая строка
содержит одну команду. Команда — это либо «+ N», либо «–». Команда «+
N» означает добавление в очередь числа N, по модулю не превышающего 109.
Команда «–» означает изъятие элемента из очереди. Гарантируется, что размер
очереди в процессе выполнения команд не превысит 106
элементов.

• Формат входного файла (input.txt). В первой строке содержится M (1 ≤
M ≤ 106) – число команд. В последующих строках содержатся команды, по
одной в каждой строке.

• Формат выходного файла (output.txt). Выведите числа, которые удаляют-
ся из очереди с помощью команды «–», по одному в каждой строке. Числа
нужно выводить в том порядке, в котором они были извлечены из очереди.
Гарантируется, что извлечения из пустой очереди не производится.
• Ограничение по времени. 2 сек.
• Ограничение по памяти. 256 мб.
```

### Код решения:

<img width="702" height="336" alt="Lab4 SQ2 Code" src="https://github.com/user-attachments/assets/60717bbf-e01a-4241-9cf7-ae9576ae0ccd" />

### Пояснение:

Очередь реализована с помощью массива queue и указателя head, который стоит на начале очереди.
Мы проходим по каждой строке входных данных. Если в строке стоит +, то делим строку на операцию
и значение после этой операции. В конце делаем это знаение число и записываем в массив. Если операция -,
то в переменную значения записываем элемент, находящийся в начале очереди, присваиваем header-у новый
индекс начала очереди и удаляем значение из массива.

### Тест:

Для проверки того, что алгоритм работает в файл input.txt я записал пример из описания лабы.
Получил такой результат.

Input.txt

<img width="547" height="360" alt="Lab4 SQ2 input" src="https://github.com/user-attachments/assets/788220b3-a42b-4860-8740-bb08eaa463cc" />

Output.txt

<img width="545" height="364" alt="Lab4 SQ2 Output" src="https://github.com/user-attachments/assets/d090cd68-e65d-4d51-8a48-707a42158537" />


## Задание 4

### Текст задания:

```
Определение правильной скобочной последовательности такое же, как и в
задаче 3, но теперь у нас больше набор скобок: []{}().
Нужно написать функцию для проверки наличия ошибок при использовании
разных типов скобок в текстовом редакторе типа LaTeX.
Для удобства, текстовый редактор должен не только информировать о наличии
ошибки в использовании скобок, но также указать точное место в коде (тексте) с
ошибочной скобочкой.
В первую очередь объявляется ошибка при наличии первой несовпадающей
закрывающей скобки, перед которой отсутствует открывающая скобка, или ко-
торая не соответствует открывающей, например, ()[} - здесь ошибка укажет на}.
Во вторую очередь, если описанной выше ошибки не было найдено, нужно
указать на первую несовпадающую открывающую скобку, у которой отсутствует
закрывающая, например, ( в ([].
Если не найдено ни одной из указанный выше ошибок, нужно сообщить, что
использование скобок корректно.
Помимо скобок, код может содержать большие и маленькие латинские буквы,
цифры и знаки препинания.
Формально, все скобки в коде (тексте) должны быть разделены на пары совпа-
дающих скобок, так что в каждой паре открывающая скобка идет перед закрыва-
ющей скобкой, а для любых двух пар скобок одна из них вложена внутри другой,
как в (foo[bar]) или они разделены, как в f(a,b)-g[c]. Скобка [ соответствует
скобке ], соответствует и ( соответствует ) .
```

### Код решения:

<img width="697" height="505" alt="Lab4 SQ4 Code" src="https://github.com/user-attachments/assets/a441dcb6-2db2-4ed7-b5e9-0fc7d9c21c99" />

### Пояснение:

Для решения этого задания используем стек, он максимально удобен для отслеживания. Мы создаём массив stack.
Создаём словарь pairs для хранения подходящих друг к другу открывающих и закрывающих типов скобок. Создаём
ещё 2 множества openings и closings, с помощью которых мы будем проверять какой тип у текущей скобки: открывающаяся
или закрывающаяся. Теперь сам алгоритм. Он читает строку слева на право (при этом ставим нумерацию с 1), если текущий
символ - открывающая скобка - он добавляет её в стек вместе с позицией (скобки в стеке хранятся кортежами). Если же
текущий символ - закрывающая скобка, то рассматривает 2 случае. Если при этом стек пуст, то сразу записывает позицию
ошибки как текущую и заканчивает. Если стек не пуст, то он берёт из стека последнюю открывающую скобку, затем проверят
одного ли типа эти скобки, если не совпадают - записывает индекс позиции с ошибкой, как текущий и завершается. 
Если ошибок не найдено, то есть 2 варианта. Либо стек пуст и тогда алгоритм возвращает сообщение об успехе. Либо в
стеке ещё лежат какие-то элементы, это значит, что есть открывающая скобка без закрывающей, а так как по условию в 
случае ошибки нам нужен индекс первой скобки, то его мы и выводим.

### Тесты

В качестве тестов я прогнал все 8 примеров из лабы и получил такие результаты. (Далее 16 скринов: 8 - входных данных, 
8 - выходных данных, можно их пролистнуть, так как все тесты прошли успешно)

<img width="100" height="100" alt="Lab4 SQ4 Input1" src="https://github.com/user-attachments/assets/f06a73eb-13a0-4759-85fc-db59d307e7bd" />

<img width="551" height="362" alt="Lab4 SQ4 Output1" src="https://github.com/user-attachments/assets/3d9c5771-f526-4f9d-a9f1-adb9a1f256a6" />

<img width="550" height="362" alt="Lab4 SQ4 Input2" src="https://github.com/user-attachments/assets/578c5814-3679-431c-a757-fbe278f8ca1a" />

<img width="549" height="361" alt="Lab4 SQ4 Output2" src="https://github.com/user-attachments/assets/ae24d9e6-b6e6-4714-a771-c4024535f7ef" />

<img width="552" height="366" alt="Lab4 SQ4 Input3" src="https://github.com/user-attachments/assets/a46ffae2-a633-45c9-9cd8-ca48bc124253" />

<img width="547" height="365" alt="Lab4 SQ4 Output3" src="https://github.com/user-attachments/assets/aa0a8558-38cf-4cb5-b469-8a55fb0b2f42" />

<img width="548" height="360" alt="Lab4 SQ4 Input4" src="https://github.com/user-attachments/assets/6a7cc2f7-84cf-444a-82e6-8e6893e64e28" />

<img width="552" height="364" alt="Lab4 SQ4 Output4" src="https://github.com/user-attachments/assets/b56025db-cd65-46ea-b8c9-7b4426545eef" />

<img width="553" height="363" alt="Lab4 SQ4 Input5" src="https://github.com/user-attachments/assets/2f92c914-6304-4434-bc32-ac8343a252aa" />

<img width="550" height="360" alt="Lab4 SQ4 Output5" src="https://github.com/user-attachments/assets/f732c5b1-c135-4ca6-9ce3-b229051f5e8f" />

<img width="549" height="365" alt="Lab4 SQ4 Input6" src="https://github.com/user-attachments/assets/154f7b89-ab29-4630-a78b-a98481d0abee" />

<img width="552" height="361" alt="Lab4 SQ4 Output6" src="https://github.com/user-attachments/assets/04ae433e-5c63-4894-b2ec-129a4c6c726c" />

<img width="547" height="362" alt="Lab4 SQ4 Input7" src="https://github.com/user-attachments/assets/2d485fcf-deb9-40f8-8949-ce9f679a82a6" />

<img width="552" height="364" alt="Lab4 SQ4 Output7" src="https://github.com/user-attachments/assets/4d5af6ed-7909-45d8-be13-9aff40f3a463" />

<img width="550" height="360" alt="Lab4 SQ4 Input8" src="https://github.com/user-attachments/assets/ddb5b8d0-379f-4eaa-bf63-bfffe62dcfad" />

<img width="554" height="365" alt="Lab4 SQ4 Output8" src="https://github.com/user-attachments/assets/8e185421-8523-4f3b-9b29-002657f54809" />



## Задание 5

### Текст задания:

```
Стек - это абстрактный тип данных, поддерживающий операции Push() и
Pop(). Нетрудно реализовать его таким образом, чтобы обе эти операции работали
за константное время. В этой задаче ваша цель - реализовать стек, который также
поддерживает поиск максимального значения и гарантирует, что все операции
по-прежнему работают за константное время.
Реализуйте стек, поддерживающий операции Push(), Pop() и Max().

• Формат входного файла (input.txt). В первой строке входного файла со-
держится n (1 ≤ n ≤ 400000) – число команд. Последющие n строк исходно-
го файла содержит ровно одну команду: push V, pop или max. 0 ≤ V ≤ 105.

• Формат выходного файла (output.txt). Для каждого запроса max выведите
(в отдельной строке) максимальное значение стека.

• Ограничение по времени. 5 сек.

• Ограничение по памяти. 512 мб.
```

### Код решения:

<img width="755" height="509" alt="Lab4 SQ5 Code" src="https://github.com/user-attachments/assets/5da79519-1e31-4ed9-ab3d-5364c7c3b066" />














